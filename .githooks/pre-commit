#!/usr/bin/env bash
set -euo pipefail

echo "ğŸ” Running local CI before commitâ€¦"
make ci-local

echo "âœ… Pre-commit checks passed."

echo "ğŸ” Running gitleaks scan..."
if ! gitleaks detect --source . --redact; then
  echo "ğŸš¨ Potential secrets detected! Commit aborted."
  exit 1
fi
echo "âœ… No secrets found. Proceeding with commit."
